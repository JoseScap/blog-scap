---
title: 'Node: Introducing testing with Jest'
date: '2024-02-14'
lastmod: '2024-02-14'
tags: ['bootcamp', 'testing', 'jest']
draft: false
layout: PostBanner
images: ['/static/images/common/background-1.jpg']
summary: Can we avoid testing? I think no, in this blog we'll see a simple way to testing node-express applications, so let's start
---

## Introduction

Can we avoid testing? I think no. So, in this blog we'll learn, how to implement Jest in our node-express applications and understand the main testing concepts.

<TOCInline toc={props.toc} exclude={["Introduction", "Photo Credits"]} />

## What testing is

Software testing is a fundamental process to verify our development. Our apps have the right behavior and they go well in different cases, including edge cases? That's why we need to test software, to achieve the quality assurance.

### Different testing kinds

When you are building apps, there will be different kind of testing. You could implement some of them to get higher quality for your apps.

In this section we'll name the most fundamentals and simple to integrate if you're a developer.

1. Unit testing: Unit tests are smaller and simpler to learn and they'll be our start point. With these kind of tests, we can verify small functions and little pieces of code. With them we can see if everything in this functions it's going well, and if we code new features we can see if some of these last functions is now broken. 
2. Integration testing: These kind of, it's a little bit different. As its name suggest these are integrations, but of what, integrations of smaller functionalities. We won't be testing smaller functions forever, after write our unit tests we need to see if our smaller functions works well together. A simple example of this situations are controllers in our servers, because they are integrations of other functionalities.

Each type of test has its own purpose and focus area. The combination of these test types helps identify and correct issues at different levels of software development, allowing for an improvement in the quality of the final product.

It is important to note that there are other types of tests in software development, such as regression tests, performance tests, security tests, among others, which also play specific roles in the validation and verification of the software.

## Testing with Jest and its setup

Jest is a popular testing framework for JavaScript, primarily designed for unit testing, although it can also be used for integration testing in Node.js applications and frontend development with frameworks such as React, Vue.js, Angular, among others.

The first thing we will do to use Jest is to install its corresponding dependencies.

```shell
npm install -D jest eslint
```

Following this, we configure its main file called `jest.config.js`.

```javascript
const jestConfig = {
    testEnvironment: 'node'
}

module.exports = jestConfig
```

And also we need to configure eslint to work with jest and setup our testing environment using the `.eslintrc.js` file. The code below is a simple config for eslint.

```javascript
module.exports = {
    'env': {
        'commonjs': true,
        'es2021': true,
        'node': true,
        'jest/globals': true
    },
    'extends': 'eslint:recommended',
    'parserOptions': {
        'ecmaVersion': 'latest'
    },
    'rules': {
        'indent': [
            'error',
            4
        ],
        'linebreak-style': [
            'error',
            'windows'
        ],
        'quotes': [
            'error',
            'single'
        ],
        'semi': [
            'error',
            'never'
        ]
    }
}
```

And we finish by implementing Jest in the scripts of our `package.json` file.

```json
{
    // ...
    "scripts": {
        "test": "jest",
        "test:watch": "jest --watch",
        "test:coverage": "jest --coverage"
    }
    // ...
}
```

### Our first tests

Now we are ready test some functions, before to start, first thing we'll do is write a file that will be name `math.utils.js` and its code will be the next:

```javascript
// math.utils.js

const sum = (a, b) => a + b
const subtraction = (a, b) => a - b
const multiplication = (a, b) => a * b
const division = (a, b) => a / b
const calculator = (a, b, operation) => operation(a, b)

module.exports = {
    sum,
    subtraction,
    multiplication,
    division,
    calculator
}
```

1. Testing the feature `sum`

```javascript
test('sum should return 3 when 2 + 1', () => {
    expect(sum(2, 1)).toBe(3)
})
```

2. Testing the feature `subtraction`

```javascript
test('subtraction should return 1 when 3 - 2', () => {
    expect(subtraction(3, 2)).toBe(1)
})
```

3. Testing the feature `division`

```javascript
test('division should return 2 when 8 / 4', () => {
    expect(division(8, 4)).toBe(2)
})
```

4. Testing the feature `sum`

```javascript
test('sum should return 3 when 2 + 1', () => {
    expect(sum(2, 1)).toBe(3)
})
```

5. Testing the feature `calculator`

```javascript
test('calculator should return 8 when we try to calculate the sum of 4 + 4', () => {
    expect(calculator(4, 4, sum)).toBe(8)
})
```

### Mock functions with `jest.fn()`

## Setting a simple express-server up

### Test server controllers

## Summary

## Photo Credits

<div>
  Banner photo by [ThisisEngineering RAEng](https://unsplash.com/es/@thisisengineering?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash)
  on
  [Unsplash](https://unsplash.com/es/fotos/mujer-con-camisa-negra-sosteniendo-un-telefono-inteligente-blanco-DbLlKd8u2Rw?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash)
</div>